I wrote this whilst I was bored on a plane to Singapore a while ago.
I might bump it up to Rails 3 sometime.